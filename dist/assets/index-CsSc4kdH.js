const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-Cp8A3kZ6.js","assets/vendor-Cky3w5Lg.js"])))=>i.map(i=>d[i]);
import{j as p,m as xe,G as Tn,I as bi,M as wi,C as Is,B as Os,H as Ns,S as Rs,T as Ls,F as Ds,L as $s,a as hr,U as zs,X as xi,P as hn,b as dn,c as Us}from"./ui-CYf2VY93.js";import{a as Fs,g as Bs,c as fe,b as Ms,r as F,u as vi,L as yt,B as qs,R as Hs,d as fn}from"./vendor-Cky3w5Lg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _i,dr=Fs;_i=dr.createRoot,dr.hydrateRoot;const Vs="modulepreload",Js=function(t){return"/portfolio/"+t},fr={},ut=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Js(l),l in fr)return;fr[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Vs,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,d)=>{h.addEventListener("load",f),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Ws=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ut(async()=>{const{default:r}=await Promise.resolve().then(()=>ht);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Jn extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ks extends Jn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gs extends Jn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ys extends Jn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var An;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(An||(An={}));var Qs=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Xs{constructor(e,{headers:n={},customFetch:r,region:i=An.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Ws(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Qs(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new Ks(y)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Gs(u);if(!u.ok)throw new Ys(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),d;return f==="application/json"?d=yield u.json():f==="application/octet-stream"?d=yield u.blob():f==="text/event-stream"?d=u:f==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(i){return{data:null,error:i}}})}}var he={},Wn={},Gt={},Tt={},Yt={},Qt={},Zs=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ct=Zs();const eo=ct.fetch,ki=ct.fetch.bind(ct),Si=ct.Headers,to=ct.Request,no=ct.Response,ht=Object.freeze(Object.defineProperty({__proto__:null,Headers:Si,Request:to,Response:no,default:ki,fetch:eo},Symbol.toStringTag,{value:"Module"})),ro=Bs(ht);var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});let io=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Xt.default=io;var Ei=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});const so=Ei(ro),oo=Ei(Xt);let ao=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=so.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,h=null,f=s.status,d=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const w=await s.text();try{c=JSON.parse(w),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,d="OK")}catch{s.status===404&&w===""?(f=204,d="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,d="OK"),c&&this.shouldThrowOnError)throw new oo.default(c)}return{error:c,data:u,count:h,status:f,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Qt.default=ao;var lo=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});const uo=lo(Qt);let co=class extends uo.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yt.default=co;var ho=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});const fo=ho(Yt);let po=class extends fo.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Tt.default=po;var mo=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gt,"__esModule",{value:!0});const bt=mo(Tt);let go=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new bt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new bt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new bt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new bt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new bt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gt.default=go;var Zt={},en={};Object.defineProperty(en,"__esModule",{value:!0});en.version=void 0;en.version="0.0.0-automated";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DEFAULT_HEADERS=void 0;const yo=en;Zt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yo.version}`};var ji=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wn,"__esModule",{value:!0});const bo=ji(Gt),wo=ji(Tt),xo=Zt;let vo=class Ci{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},xo.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new bo.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ci(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new wo.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wn.default=vo;var dt=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(he,"__esModule",{value:!0});he.PostgrestError=he.PostgrestBuilder=he.PostgrestTransformBuilder=he.PostgrestFilterBuilder=he.PostgrestQueryBuilder=he.PostgrestClient=void 0;const Pi=dt(Wn);he.PostgrestClient=Pi.default;const Ti=dt(Gt);he.PostgrestQueryBuilder=Ti.default;const Ai=dt(Tt);he.PostgrestFilterBuilder=Ai.default;const Ii=dt(Yt);he.PostgrestTransformBuilder=Ii.default;const Oi=dt(Qt);he.PostgrestBuilder=Oi.default;const Ni=dt(Xt);he.PostgrestError=Ni.default;var _o=he.default={PostgrestClient:Pi.default,PostgrestQueryBuilder:Ti.default,PostgrestFilterBuilder:Ai.default,PostgrestTransformBuilder:Ii.default,PostgrestBuilder:Oi.default,PostgrestError:Ni.default};const{PostgrestClient:ko,PostgrestQueryBuilder:qd,PostgrestFilterBuilder:Hd,PostgrestTransformBuilder:Vd,PostgrestBuilder:Jd,PostgrestError:Wd}=_o,So="2.11.2",Eo={"X-Client-Info":`realtime-js/${So}`},jo="1.0.0",Ri=1e4,Co=1e3;var ot;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ot||(ot={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var Ee;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ee||(Ee={}));var In;(function(t){t.websocket="websocket"})(In||(In={}));var Je;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Je||(Je={}));class Po{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Li{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const pr=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=To(o,t,e,i),s),{})},To=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Di(s,o):On(o)},Di=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return No(e,n)}switch(t){case J.bool:return Ao(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Io(e);case J.json:case J.jsonb:return Oo(e);case J.timestamp:return Ro(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return On(e);default:return On(e)}},On=t=>t,Ao=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Io=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Oo=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},No=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Di(e,a))}return t},Ro=t=>typeof t=="string"?t.replace(" ","T"):t,$i=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pn{constructor(e,n,r={},i=Ri){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mr||(mr={}));class kt{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kt.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=kt.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kt.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const f=u.map(k=>k.presence_ref),d=h.map(k=>k.presence_ref),y=u.filter(k=>d.indexOf(k.presence_ref)<0),w=h.filter(k=>f.indexOf(k.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(d=>d.presence_ref),f=u.filter(d=>h.indexOf(d.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gr;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(gr||(gr={}));var yr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yr||(yr={}));var Ne;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ne||(Ne={}));class Kn{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pn(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new Li(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kt(this),this.broadcastEndpointURL=$i(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ne.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ne.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Ne.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,d=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<d;w++){const k=f[w],{filter:{event:v,schema:C,table:E,filter:N}}=k,O=u&&u[w];if(O&&O.event===v&&O.schema===C&&O.table===E&&O.filter===N)y.push(Object.assign(Object.assign({},k),{id:O.id}));else{this.unsubscribe(),e==null||e(Ne.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ne.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ne.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ne.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new pn(this,Ee.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pn(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ee;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var y,w,k;return((y=d.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(w=d.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(d=>d.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var y,w,k,v,C,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const N=d.id,O=(y=d.filter)===null||y===void 0?void 0:y.event;return N&&((w=n.ids)===null||w===void 0?void 0:w.includes(N))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const N=(C=(v=d==null?void 0:d.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return N==="*"||N===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:k,commit_timestamp:v,type:C,errors:E}=y;f=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:v,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(y))}d.callback(f,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Kn.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ee.close,{},e)}_onError(e){this._on(Ee.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=pr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=pr(e.columns,e.old_record)),n}}const Lo=()=>{},Do=typeof WebSocket<"u",$o=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zo{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Eo,this.params={},this.timeout=Ri,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lo,this.conn=null,this.sendBuffer=[],this.serializer=new Po,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>ut(async()=>{const{default:l}=await Promise.resolve().then(()=>ht);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${In.websocket}`,this.httpEndpoint=$i(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Li(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Do){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uo(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ut(async()=>{const{default:e}=await import("./browser-Cp8A3kZ6.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jo}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ot.connecting:return Je.Connecting;case ot.open:return Je.Open;case ot.closing:return Je.Closing;default:return Je.Closed}}isConnected(){return this.connectionState()===Je.Open}channel(e,n={config:{}}){const r=new Kn(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(Ee.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Co,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ee.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$o],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Uo{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ot.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Gn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fo extends Gn{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nn extends Gn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Bo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const zi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ut(async()=>{const{default:r}=await Promise.resolve().then(()=>ht);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Mo=()=>Bo(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ut(()=>Promise.resolve().then(()=>ht),void 0)).Response:Response}),Rn=t=>{if(Array.isArray(t))return t.map(n=>Rn(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Rn(r)}),e};var Ke=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const mn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qo=(t,e,n)=>Ke(void 0,void 0,void 0,function*(){const r=yield Mo();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Fo(mn(i),t.status||500))}).catch(i=>{e(new Nn(mn(i),i))}):e(new Nn(mn(t),t))}),Ho=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function At(t,e,n,r,i,s){return Ke(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ho(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>qo(l,a,r))})})}function Vt(t,e,n,r){return Ke(this,void 0,void 0,function*(){return At(t,"GET",e,n,r)})}function Ue(t,e,n,r,i){return Ke(this,void 0,void 0,function*(){return At(t,"POST",e,r,i,n)})}function Vo(t,e,n,r,i){return Ke(this,void 0,void 0,function*(){return At(t,"PUT",e,r,i,n)})}function Jo(t,e,n,r){return Ke(this,void 0,void 0,function*(){return At(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ui(t,e,n,r,i){return Ke(this,void 0,void 0,function*(){return At(t,"DELETE",e,r,i,n)})}var ue=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Wo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},br={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ko{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=zi(i)}uploadOrUpdate(e,n,r,i){return ue(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},br),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(re(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ue(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:br.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(re(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ue(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Gn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,n,r){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ue(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ue(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ue(this,void 0,void 0,function*(){try{const i=yield Ue(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}download(e,n){return ue(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Vt(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Vt(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rn(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return ue(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jo(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof Nn){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}list(e,n,r){return ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Wo),n),{prefix:e||""});return{data:yield Ue(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Go="2.7.1",Yo={"X-Client-Info":`storage-js/${Go}`};var nt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Qo{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yo),n),this.fetch=zi(r)}listBuckets(){return nt(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return nt(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}})}}class Xo extends Qo{constructor(e,n={},r){super(e,n,r)}from(e){return new Ko(this.url,this.headers,e,this.fetch)}}const Zo="2.47.12";let _t="";typeof Deno<"u"?_t="deno":typeof document<"u"?_t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_t="react-native":_t="node";const ea={"X-Client-Info":`supabase-js-${_t}/${Zo}`},ta={headers:ea},na={schema:"public"},ra={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ia={};var sa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oa=t=>{let e;return t?e=t:typeof fetch>"u"?e=ki:e=fetch,(...n)=>e(...n)},aa=()=>typeof Headers>"u"?Si:Headers,la=(t,e,n)=>{const r=oa(n),i=aa();return(s,o)=>sa(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var ua=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function ca(t){return t.replace(/\/$/,"")}function ha(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>ua(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Fi="2.67.3",da="http://localhost:9999",fa="supabase.auth.token",pa={"X-Client-Info":`gotrue-js/${Fi}`},wr=10,Ln="X-Supabase-Api-Version",Bi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ma(t){return Math.round(Date.now()/1e3)+t}function ga(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pe=()=>typeof window<"u"&&typeof document<"u",He={tested:!1,writable:!1},St=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(He.tested)return He.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),He.tested=!0,He.writable=!0}catch{He.tested=!0,He.writable=!1}return He.writable};function ya(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Mi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ut(async()=>{const{default:r}=await Promise.resolve().then(()=>ht);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ba=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Dt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$t=async(t,e)=>{await t.removeItem(e)};function wa(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class tn{constructor(){this.promise=new tn.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tn.promiseConstructor=Promise;function xr(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(wa(r))}async function xa(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function va(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function _a(t){return("0"+t.toString(16)).substr(-2)}function ka(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,_a).join("")}async function Sa(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Ea(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ja(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Sa(t);return Ea(n)}async function rt(t,e,n=!1){const r=ka();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qi(t,`${e}-code-verifier`,i);const s=await ja(r);return[s,r===s?"plain":"s256"]}const Ca=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pa(t){const e=t.headers.get(Ln);if(!e||!e.match(Ca))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Yn extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ta extends Yn{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Aa(t){return D(t)&&t.name==="AuthApiError"}class Hi extends Yn{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ge extends Yn{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $e extends Ge{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ia(t){return D(t)&&t.name==="AuthSessionMissingError"}class gn extends Ge{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zt extends Ge{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ut extends Ge{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Oa(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class vr extends Ge{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dn extends Ge{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yn(t){return D(t)&&t.name==="AuthRetryableFetchError"}class _r extends Ge{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Na=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Ve=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ra=[502,503,504];async function kr(t){var e;if(!ba(t))throw new Dn(Ve(t),0);if(Ra.includes(t.status))throw new Dn(Ve(t),t.status);let n;try{n=await t.json()}catch(s){throw new Hi(Ve(s),s)}let r;const i=Pa(t);if(i&&i.getTime()>=Bi["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _r(Ve(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $e}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new _r(Ve(n),t.status,n.weak_password.reasons);throw new Ta(Ve(n),t.status||500,r)}const La=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function U(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ln]||(s[Ln]=Bi["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Da(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Da(t,e,n,r,i,s){const o=La(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Dn(Ve(l),0)}if(a.ok||await kr(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await kr(l)}}function ze(t){var e;let n=null;Fa(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=ma(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Sr(t){const e=ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $a(t){return{data:t,error:null}}function za(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Na(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ua(t){return t}function Fa(t){return t.access_token&&t.refresh_token&&t.expires_in}var Ba=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Ma{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Mi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ba(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:za,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fe})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ua});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);c[`${k}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fe})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}const qa={getItem:t=>St()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{St()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{St()&&globalThis.localStorage.removeItem(t)}};function Er(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Ha(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const it={debug:!!(globalThis&&St()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Va extends Vi{}async function Ja(t,e,n){it.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),it.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){it.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{it.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw it.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Va(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(it.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ha();const Wa={url:da,storageKey:fa,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pa,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},wt=30*1e3,jr=3;async function Cr(t,e,n){return await n()}class Ct{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ct.nextInstanceID,Ct.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Wa),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ma({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Mi(i.fetch),this.lock=i.lock||Cr,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ja:this.lock=Cr,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:St()?this.storage=qa:(this.memoryStorage={},this.storage=Er(this.memoryStorage)):(this.memoryStorage={},this.storage=Er(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ya(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Pe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Oa(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Hi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ze}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:h,options:f}=e;let d=null,y=null;this.flowType==="pkce"&&([d,y]=await rt(this.storage,this.storageKey)),s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:y},xform:ze})}else if("phone"in e){const{phone:u,password:h,options:f}=e;s=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ze})}else throw new zt("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sr})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sr})}else throw new zt("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Dt(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ze});if(await $t(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(D(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ze}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await rt(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new zt("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ze});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await rt(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:$a})}catch(s){if(D(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $e;const{error:i}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zt("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Dt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fe}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fe})})}catch(n){if(D(n))return Ia(n)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $e;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await rt(this.storage,this.storageKey));const{data:c,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fe});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return xr(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $e;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=xr(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $e;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Pe())throw new Ut("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ut(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ut("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vr("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new Ut("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const d=f-u;d*1e3<=wt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const y=f-h;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:w,error:k}=await this._getUser(s);if(k)throw k;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Dt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Aa(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ga(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rt(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(D(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:f}=s;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Pe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await va(async i=>(i>0&&await xa(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ze})),(i,s)=>{const o=200*Math.pow(2,i);return s&&yn(s)&&Date.now()+o-r<wt})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Pe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Dt(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+wr;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${wr}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),yn(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tn;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new $e;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),D(s)){const o={session:null,error:s};return yn(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $t(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/wt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wt}ms, refresh threshold is ${jr} ticks`),i<=jr&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await rt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ct.nextInstanceID=0;const Ka=Ct;class Ga extends Ka{constructor(e){super(e)}}var Ya=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Qa{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ca(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:na,realtime:ia,auth:Object.assign(Object.assign({},ra),{storageKey:l}),global:ta},u=ha(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=la(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ko(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Xs(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xo(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ya(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ga({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new zo(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xa=(t,e,n)=>new Qa(t,e,n),Za=void 0,el=void 0;throw console.error("Missing Supabase URL or Anon Key"),new Error("Missing Supabase configuration");const tl=t=>{try{return new URL(t),t}catch(e){throw console.error("Invalid Supabase URL:",e),new Error("Invalid Supabase URL configuration")}},M=Xa(tl(Za),el,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1}});function nl(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const rl=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,il=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sl={};function Pr(t,e){return(sl.jsx?il:rl).test(t)}const ol=/[ \t\n\f\r]/g;function al(t){return typeof t=="object"?t.type==="text"?Tr(t.value):!1:Tr(t)}function Tr(t){return t.replace(ol,"")===""}class It{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}It.prototype.property={};It.prototype.normal={};It.prototype.space=null;function Ji(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new It(n,r,e)}function $n(t){return t.toLowerCase()}class _e{constructor(e,n){this.property=e,this.attribute=n}}_e.prototype.space=null;_e.prototype.boolean=!1;_e.prototype.booleanish=!1;_e.prototype.overloadedBoolean=!1;_e.prototype.number=!1;_e.prototype.commaSeparated=!1;_e.prototype.spaceSeparated=!1;_e.prototype.commaOrSpaceSeparated=!1;_e.prototype.mustUseProperty=!1;_e.prototype.defined=!1;let ll=0;const L=Ye(),ee=Ye(),Wi=Ye(),S=Ye(),W=Ye(),at=Ye(),ge=Ye();function Ye(){return 2**++ll}const zn=Object.freeze(Object.defineProperty({__proto__:null,boolean:L,booleanish:ee,commaOrSpaceSeparated:ge,commaSeparated:at,number:S,overloadedBoolean:Wi,spaceSeparated:W},Symbol.toStringTag,{value:"Module"})),bn=Object.keys(zn);class Qn extends _e{constructor(e,n,r,i){let s=-1;if(super(e,n),Ar(this,"space",i),typeof r=="number")for(;++s<bn.length;){const o=bn[s];Ar(this,bn[s],(r&zn[o])===zn[o])}}}Qn.prototype.defined=!0;function Ar(t,e,n){n&&(t[e]=n)}const ul={}.hasOwnProperty;function ft(t){const e={},n={};let r;for(r in t.properties)if(ul.call(t.properties,r)){const i=t.properties[r],s=new Qn(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[$n(r)]=r,n[$n(s.attribute)]=r}return new It(e,n,t.space)}const Ki=ft({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Gi=ft({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Yi(t,e){return e in t?t[e]:e}function Qi(t,e){return Yi(t,e.toLowerCase())}const Xi=ft({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Qi,properties:{xmlns:null,xmlnsXLink:null}}),Zi=ft({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ee,ariaAutoComplete:null,ariaBusy:ee,ariaChecked:ee,ariaColCount:S,ariaColIndex:S,ariaColSpan:S,ariaControls:W,ariaCurrent:null,ariaDescribedBy:W,ariaDetails:null,ariaDisabled:ee,ariaDropEffect:W,ariaErrorMessage:null,ariaExpanded:ee,ariaFlowTo:W,ariaGrabbed:ee,ariaHasPopup:null,ariaHidden:ee,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:W,ariaLevel:S,ariaLive:null,ariaModal:ee,ariaMultiLine:ee,ariaMultiSelectable:ee,ariaOrientation:null,ariaOwns:W,ariaPlaceholder:null,ariaPosInSet:S,ariaPressed:ee,ariaReadOnly:ee,ariaRelevant:null,ariaRequired:ee,ariaRoleDescription:W,ariaRowCount:S,ariaRowIndex:S,ariaRowSpan:S,ariaSelected:ee,ariaSetSize:S,ariaSort:null,ariaValueMax:S,ariaValueMin:S,ariaValueNow:S,ariaValueText:null,role:null}}),cl=ft({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Qi,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:at,acceptCharset:W,accessKey:W,action:null,allow:null,allowFullScreen:L,allowPaymentRequest:L,allowUserMedia:L,alt:null,as:null,async:L,autoCapitalize:null,autoComplete:W,autoFocus:L,autoPlay:L,blocking:W,capture:null,charSet:null,checked:L,cite:null,className:W,cols:S,colSpan:null,content:null,contentEditable:ee,controls:L,controlsList:W,coords:S|at,crossOrigin:null,data:null,dateTime:null,decoding:null,default:L,defer:L,dir:null,dirName:null,disabled:L,download:Wi,draggable:ee,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:L,formTarget:null,headers:W,height:S,hidden:L,high:S,href:null,hrefLang:null,htmlFor:W,httpEquiv:W,id:null,imageSizes:null,imageSrcSet:null,inert:L,inputMode:null,integrity:null,is:null,isMap:L,itemId:null,itemProp:W,itemRef:W,itemScope:L,itemType:W,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:L,low:S,manifest:null,max:null,maxLength:S,media:null,method:null,min:null,minLength:S,multiple:L,muted:L,name:null,nonce:null,noModule:L,noValidate:L,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:L,optimum:S,pattern:null,ping:W,placeholder:null,playsInline:L,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:L,referrerPolicy:null,rel:W,required:L,reversed:L,rows:S,rowSpan:S,sandbox:W,scope:null,scoped:L,seamless:L,selected:L,shadowRootClonable:L,shadowRootDelegatesFocus:L,shadowRootMode:null,shape:null,size:S,sizes:null,slot:null,span:S,spellCheck:ee,src:null,srcDoc:null,srcLang:null,srcSet:null,start:S,step:null,style:null,tabIndex:S,target:null,title:null,translate:null,type:null,typeMustMatch:L,useMap:null,value:ee,width:S,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:W,axis:null,background:null,bgColor:null,border:S,borderColor:null,bottomMargin:S,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:L,declare:L,event:null,face:null,frame:null,frameBorder:null,hSpace:S,leftMargin:S,link:null,longDesc:null,lowSrc:null,marginHeight:S,marginWidth:S,noResize:L,noHref:L,noShade:L,noWrap:L,object:null,profile:null,prompt:null,rev:null,rightMargin:S,rules:null,scheme:null,scrolling:ee,standby:null,summary:null,text:null,topMargin:S,valueType:null,version:null,vAlign:null,vLink:null,vSpace:S,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:L,disableRemotePlayback:L,prefix:null,property:null,results:S,security:null,unselectable:null}}),hl=ft({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Yi,properties:{about:ge,accentHeight:S,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:S,amplitude:S,arabicForm:null,ascent:S,attributeName:null,attributeType:null,azimuth:S,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:S,by:null,calcMode:null,capHeight:S,className:W,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:S,diffuseConstant:S,direction:null,display:null,dur:null,divisor:S,dominantBaseline:null,download:L,dx:null,dy:null,edgeMode:null,editable:null,elevation:S,enableBackground:null,end:null,event:null,exponent:S,externalResourcesRequired:null,fill:null,fillOpacity:S,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:at,g2:at,glyphName:at,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:S,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:S,horizOriginX:S,horizOriginY:S,id:null,ideographic:S,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:S,k:S,k1:S,k2:S,k3:S,k4:S,kernelMatrix:ge,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:S,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:S,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:S,overlineThickness:S,paintOrder:null,panose1:null,path:null,pathLength:S,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:W,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:S,pointsAtY:S,pointsAtZ:S,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ge,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ge,rev:ge,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ge,requiredFeatures:ge,requiredFonts:ge,requiredFormats:ge,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:S,specularExponent:S,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:S,strikethroughThickness:S,string:null,stroke:null,strokeDashArray:ge,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:S,strokeOpacity:S,strokeWidth:null,style:null,surfaceScale:S,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ge,tabIndex:S,tableValues:null,target:null,targetX:S,targetY:S,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ge,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:S,underlineThickness:S,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:S,values:null,vAlphabetic:S,vMathematical:S,vectorEffect:null,vHanging:S,vIdeographic:S,version:null,vertAdvY:S,vertOriginX:S,vertOriginY:S,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:S,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),dl=/^data[-\w.:]+$/i,Ir=/-[a-z]/g,fl=/[A-Z]/g;function pl(t,e){const n=$n(e);let r=e,i=_e;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dl.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Ir,gl);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Ir.test(s)){let o=s.replace(fl,ml);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Qn}return new i(r,e)}function ml(t){return"-"+t.toLowerCase()}function gl(t){return t.charAt(1).toUpperCase()}const yl={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},bl=Ji([Gi,Ki,Xi,Zi,cl],"html"),Xn=Ji([Gi,Ki,Xi,Zi,hl],"svg");function wl(t){return t.join(" ").trim()}var es={},Or=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,xl=/\n/g,vl=/^\s*/,_l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,kl=/^:\s*/,Sl=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,El=/^[;\s]*/,jl=/^\s+|\s+$/g,Cl=`
`,Nr="/",Rr="*",We="",Pl="comment",Tl="declaration",Al=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var w=y.match(xl);w&&(n+=w.length);var k=y.lastIndexOf(Cl);r=~k?y.length-k:r+y.length}function s(){var y={line:n,column:r};return function(w){return w.position=new o(y),c(),w}}function o(y){this.start=y,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(y){var w=new Error(e.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(y){var w=y.exec(t);if(w){var k=w[0];return i(k),t=t.slice(k.length),w}}function c(){l(vl)}function u(y){var w;for(y=y||[];w=h();)w!==!1&&y.push(w);return y}function h(){var y=s();if(!(Nr!=t.charAt(0)||Rr!=t.charAt(1))){for(var w=2;We!=t.charAt(w)&&(Rr!=t.charAt(w)||Nr!=t.charAt(w+1));)++w;if(w+=2,We===t.charAt(w-1))return a("End of comment missing");var k=t.slice(2,w-2);return r+=2,i(k),t=t.slice(w),r+=2,y({type:Pl,comment:k})}}function f(){var y=s(),w=l(_l);if(w){if(h(),!l(kl))return a("property missing ':'");var k=l(Sl),v=y({type:Tl,property:Lr(w[0].replace(Or,We)),value:k?Lr(k[0].replace(Or,We)):We});return l(El),v}}function d(){var y=[];u(y);for(var w;w=f();)w!==!1&&(y.push(w),u(y));return y}return c(),d()};function Lr(t){return t?t.replace(jl,We):We}var Il=fe&&fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});var Dr=es.default=Nl,Ol=Il(Al);function Nl(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Ol.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const Rl=Dr.default||Dr,ts=ns("end"),Zn=ns("start");function ns(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ll(t){const e=Zn(t),n=ts(t);if(e&&n)return{start:e,end:n}}function Et(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$r(t.position):"start"in t||"end"in t?$r(t):"line"in t||"column"in t?Un(t):""}function Un(t){return zr(t&&t.line)+":"+zr(t&&t.column)}function $r(t){return Un(t&&t.start)+"-"+Un(t&&t.end)}function zr(t){return t&&typeof t=="number"?t:1}class se extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Et(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}se.prototype.file="";se.prototype.name="";se.prototype.reason="";se.prototype.message="";se.prototype.stack="";se.prototype.column=void 0;se.prototype.line=void 0;se.prototype.ancestors=void 0;se.prototype.cause=void 0;se.prototype.fatal=void 0;se.prototype.place=void 0;se.prototype.ruleId=void 0;se.prototype.source=void 0;const er={}.hasOwnProperty,Dl=new Map,$l=/[A-Z]/g,zl=/-([a-z])/g,Ul=new Set(["table","tbody","thead","tfoot","tr"]),Fl=new Set(["td","th"]),rs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bl(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Gl(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Kl(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Xn:bl,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=is(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function is(t,e,n){if(e.type==="element")return Ml(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return ql(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Vl(t,e,n);if(e.type==="mdxjsEsm")return Hl(t,e);if(e.type==="root")return Jl(t,e,n);if(e.type==="text")return Wl(t,e)}function Ml(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Xn,t.schema=i),t.ancestors.push(e);const s=os(t,e.tagName,!1),o=Yl(t,e);let a=nr(t,e);return Ul.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!al(l):!0})),ss(t,o,s,e),tr(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function ql(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Pt(t,e.position)}function Hl(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Pt(t,e.position)}function Vl(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Xn,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:os(t,e.name,!0),o=Ql(t,e),a=nr(t,e);return ss(t,o,s,e),tr(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Jl(t,e,n){const r={};return tr(r,nr(t,e)),t.create(e,t.Fragment,r,n)}function Wl(t,e){return e.value}function ss(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function tr(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Kl(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function Gl(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Zn(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Yl(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&er.call(e.properties,i)){const s=Xl(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Fl.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ql(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Pt(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Pt(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function nr(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Dl;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=is(t,s,o);a!==void 0&&n.push(a)}return n}function Xl(t,e,n){const r=pl(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?nl(n):wl(n)),r.property==="style"){let i=typeof n=="object"?n:Zl(t,String(n));return t.stylePropertyNameCase==="css"&&(i=eu(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?yl[r.property]||r.property:r.attribute,n]}}function Zl(t,e){const n={};try{Rl(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new se("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=rs+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(zl,nu)),n[o]=s}}function os(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Pr(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Pr(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return er.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Pt(t)}function Pt(t,e){const n=new se("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=rs+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eu(t){const e={};let n;for(n in t)er.call(t,n)&&(e[tu(n)]=t[n]);return e}function tu(t){let e=t.replace($l,ru);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function nu(t,e){return e.toUpperCase()}function ru(t){return"-"+t.toLowerCase()}const wn={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iu={};function su(t,e){const n=iu,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return as(t,r,i)}function as(t,e,n){if(ou(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ur(t.children,e,n)}return Array.isArray(t)?Ur(t,e,n):""}function Ur(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=as(t[i],e,n);return r.join("")}function ou(t){return!!(t&&typeof t=="object")}const Fr=document.createElement("i");function rr(t){const e="&"+t+";";Fr.innerHTML=e;const n=Fr.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ie(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function ve(t,e){return t.length>0?(Ie(t,t.length,0,e),t):e}const Br={}.hasOwnProperty;function au(t){const e={};let n=-1;for(;++n<t.length;)lu(e,t[n]);return e}function lu(t,e){let n;for(n in e){const i=(Br.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Br.call(i,o)||(i[o]=[]);const a=s[o];uu(i[o],Array.isArray(a)?a:a?[a]:[])}}}function uu(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ie(t,0,0,r)}function ls(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function lt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ae=Be(/[A-Za-z]/),be=Be(/[\dA-Za-z]/),cu=Be(/[#-'*+\--9=?A-Z^-~]/);function Fn(t){return t!==null&&(t<32||t===127)}const Bn=Be(/\d/),hu=Be(/[\dA-Fa-f]/),du=Be(/[!-/:-@[-`{-~]/);function R(t){return t!==null&&t<-2}function de(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}const fu=Be(new RegExp("\\p{P}|\\p{S}","u")),pu=Be(/\s/);function Be(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function pt(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&be(t.charCodeAt(n+1))&&be(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function K(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return q(l)?(t.enter(n),a(l)):e(l)}function a(l){return q(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const mu={tokenize:gu};function gu(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),K(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return R(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const yu={tokenize:bu},Mr={tokenize:wu};function bu(t){const e=this,n=[];let r=0,i,s,o;return a;function a(E){if(r<n.length){const N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,l,c)(E)}return c(E)}function l(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const N=e.events.length;let O=N,_;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){_=e.events[O][1].end;break}v(r);let z=N;for(;z<e.events.length;)e.events[z][1].end={..._},z++;return Ie(e.events,O+1,0,e.events.slice(N)),e.events.length=z,c(E)}return a(E)}function c(E){if(r===n.length){if(!i)return f(E);if(i.currentConstruct&&i.currentConstruct.concrete)return y(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Mr,u,h)(E)}function u(E){return i&&C(),v(r),f(E)}function h(E){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(E)}function f(E){return e.containerState={},t.attempt(Mr,d,y)(E)}function d(E){return r++,n.push([e.currentConstruct,e.containerState]),f(E)}function y(E){if(E===null){i&&C(),v(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(E)}function w(E){if(E===null){k(t.exit("chunkFlow"),!0),v(0),t.consume(E);return}return R(E)?(t.consume(E),k(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(E),w)}function k(E,N){const O=e.sliceStream(E);if(N&&O.push(null),E.previous=s,s&&(s.next=E),s=E,i.defineSkip(E.start),i.write(O),e.parser.lazy[E.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const z=e.events.length;let Y=z,B,H;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){if(B){H=e.events[Y][1].end;break}B=!0}for(v(r),_=z;_<e.events.length;)e.events[_][1].end={...H},_++;Ie(e.events,Y+1,0,e.events.slice(z)),e.events.length=_}}function v(E){let N=n.length;for(;N-- >E;){const O=n[N];e.containerState=O[1],O[0].exit.call(e,t)}n.length=E}function C(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function wu(t,e,n){return K(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qr(t){if(t===null||de(t)||pu(t))return 1;if(fu(t))return 2}function ir(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Mn={name:"attention",resolveAll:xu,tokenize:vu};function xu(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};Hr(h,-l),Hr(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ve(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ve(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ve(c,ir(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ve(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=ve(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Ie(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function vu(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qr(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=qr(l),h=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?h:h&&(i||!f)),c._close=!!(s===42?f:f&&(u||!h)),e(l)}}function Hr(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const _u={name:"autolink",tokenize:ku};function ku(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(d){return Ae(d)?(t.consume(d),o):d===64?n(d):c(d)}function o(d){return d===43||d===45||d===46||be(d)?(r=1,a(d)):c(d)}function a(d){return d===58?(t.consume(d),r=0,l):(d===43||d===45||d===46||be(d))&&r++<32?(t.consume(d),a):(r=0,c(d))}function l(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||Fn(d)?n(d):(t.consume(d),l)}function c(d){return d===64?(t.consume(d),u):cu(d)?(t.consume(d),c):n(d)}function u(d){return be(d)?h(d):n(d)}function h(d){return d===46?(t.consume(d),r=0,u):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):f(d)}function f(d){if((d===45||be(d))&&r++<63){const y=d===45?f:h;return t.consume(d),y}return n(d)}}const nn={partial:!0,tokenize:Su};function Su(t,e,n){return r;function r(s){return q(s)?K(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||R(s)?e(s):n(s)}}const us={continuation:{tokenize:ju},exit:Cu,name:"blockQuote",tokenize:Eu};function Eu(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return q(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function ju(t,e,n){const r=this;return i;function i(o){return q(o)?K(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(us,e,n)(o)}}function Cu(t){t.exit("blockQuote")}const cs={name:"characterEscape",tokenize:Pu};function Pu(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return du(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const hs={name:"characterReference",tokenize:Tu};function Tu(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=be,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=hu,u):(t.enter("characterReferenceValue"),s=7,o=Bn,u(h))}function u(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===be&&!rr(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),u):n(h)}}const Vr={partial:!0,tokenize:Iu},Jr={concrete:!0,name:"codeFenced",tokenize:Au};function Au(t,e,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(_){return c(_)}function c(_){const z=r.events[r.events.length-1];return s=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,a=_,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===a?(o++,t.consume(_),u):o<3?n(_):(t.exit("codeFencedFenceSequence"),q(_)?K(t,h,"whitespace")(_):h(_))}function h(_){return _===null||R(_)?(t.exit("codeFencedFence"),r.interrupt?e(_):t.check(Vr,w,N)(_)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||R(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(_)):q(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),K(t,d,"whitespace")(_)):_===96&&_===a?n(_):(t.consume(_),f)}function d(_){return _===null||R(_)?h(_):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||R(_)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(_)):_===96&&_===a?n(_):(t.consume(_),y)}function w(_){return t.attempt(i,N,k)(_)}function k(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),v}function v(_){return s>0&&q(_)?K(t,C,"linePrefix",s+1)(_):C(_)}function C(_){return _===null||R(_)?t.check(Vr,w,N)(_):(t.enter("codeFlowValue"),E(_))}function E(_){return _===null||R(_)?(t.exit("codeFlowValue"),C(_)):(t.consume(_),E)}function N(_){return t.exit("codeFenced"),e(_)}function O(_,z,Y){let B=0;return H;function H($){return _.enter("lineEnding"),_.consume($),_.exit("lineEnding"),I}function I($){return _.enter("codeFencedFence"),q($)?K(_,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):A($)}function A($){return $===a?(_.enter("codeFencedFenceSequence"),V($)):Y($)}function V($){return $===a?(B++,_.consume($),V):B>=o?(_.exit("codeFencedFenceSequence"),q($)?K(_,Q,"whitespace")($):Q($)):Y($)}function Q($){return $===null||R($)?(_.exit("codeFencedFence"),z($)):Y($)}}}function Iu(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const xn={name:"codeIndented",tokenize:Nu},Ou={partial:!0,tokenize:Ru};function Nu(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),K(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):R(c)?t.attempt(Ou,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||R(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function Ru(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):R(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):K(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):R(o)?i(o):n(o)}}const Lu={name:"codeText",previous:$u,resolve:Du,tokenize:zu};function Du(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $u(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zu(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,u(h)):R(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||R(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class Uu{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&xt(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),xt(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),xt(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);xt(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);xt(this.left,n.reverse())}}}function xt(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function ds(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new Uu(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Fu(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Ie(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Fu(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,h,f=-1,d=n,y=0,w=0;const k=[w];for(;d;){for(;t.get(++i)[1]!==d;);s.push(i),d._tokenizer||(u=r.sliceStream(d),d.next||u.push(null),h&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(w=f+1,k.push(w),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):k.pop(),f=k.length;f--;){const v=a.slice(k[f],k[f+1]),C=s.pop();l.push([C,C+v.length-1]),t.splice(C,2,v)}for(l.reverse(),f=-1;++f<l.length;)c[y+l[f][0]]=y+l[f][1],y+=l[f][1]-l[f][0]-1;return c}const Bu={resolve:qu,tokenize:Hu},Mu={partial:!0,tokenize:Vu};function qu(t){return ds(t),t}function Hu(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):R(a)?t.check(Mu,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Vu(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),K(t,s,"linePrefix")}function s(o){if(o===null||R(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function fs(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),f):v===null||v===32||v===41||Fn(v)?n(v):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),w(v))}function f(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),d(v))}function d(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||R(v)?n(v):(t.consume(v),v===92?y:d)}function y(v){return v===60||v===62||v===92?(t.consume(v),d):d(v)}function w(v){return!u&&(v===null||v===41||de(v))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,w):v===41?(t.consume(v),u--,w):v===null||v===32||v===40||Fn(v)?n(v):(t.consume(v),v===92?k:w)}function k(v){return v===40||v===41||v===92?(t.consume(v),w):w(v)}}function ps(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(s),u}function u(d){return a>999||d===null||d===91||d===93&&!l||d===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):d===93?(t.exit(s),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):R(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||R(d)||a++>999?(t.exit("chunkString"),u(d)):(t.consume(d),l||(l=!q(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(t.consume(d),a++,h):h(d)}}function ms(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):R(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),K(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||R(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:u)}function h(f){return f===o||f===92?(t.consume(f),u):u(f)}}function jt(t,e){let n;return r;function r(i){return R(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):q(i)?K(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Ju={name:"definition",tokenize:Ku},Wu={partial:!0,tokenize:Gu};function Ku(t,e,n){const r=this;let i;return s;function s(d){return t.enter("definition"),o(d)}function o(d){return ps.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function a(d){return i=lt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),l):n(d)}function l(d){return de(d)?jt(t,c)(d):c(d)}function c(d){return fs(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function u(d){return t.attempt(Wu,h,h)(d)}function h(d){return q(d)?K(t,f,"whitespace")(d):f(d)}function f(d){return d===null||R(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function Gu(t,e,n){return r;function r(a){return de(a)?jt(t,i)(a):n(a)}function i(a){return ms(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return q(a)?K(t,o,"whitespace")(a):o(a)}function o(a){return a===null||R(a)?e(a):n(a)}}const Yu={name:"hardBreakEscape",tokenize:Qu};function Qu(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return R(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Xu={name:"headingAtx",resolve:Zu,tokenize:ec};function Zu(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ie(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function ec(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||de(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||R(u)?(t.exit("atxHeading"),e(u)):q(u)?K(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||de(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const tc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wr=["pre","script","style","textarea"],nc={concrete:!0,name:"htmlFlow",resolveTo:sc,tokenize:oc},rc={partial:!0,tokenize:lc},ic={partial:!0,tokenize:ac};function sc(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function oc(t,e,n){const r=this;let i,s,o,a,l;return c;function c(g){return u(g)}function u(g){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(g),h}function h(g){return g===33?(t.consume(g),f):g===47?(t.consume(g),s=!0,w):g===63?(t.consume(g),i=3,r.interrupt?e:m):Ae(g)?(t.consume(g),o=String.fromCharCode(g),k):n(g)}function f(g){return g===45?(t.consume(g),i=2,d):g===91?(t.consume(g),i=5,a=0,y):Ae(g)?(t.consume(g),i=4,r.interrupt?e:m):n(g)}function d(g){return g===45?(t.consume(g),r.interrupt?e:m):n(g)}function y(g){const ne="CDATA[";return g===ne.charCodeAt(a++)?(t.consume(g),a===ne.length?r.interrupt?e:A:y):n(g)}function w(g){return Ae(g)?(t.consume(g),o=String.fromCharCode(g),k):n(g)}function k(g){if(g===null||g===47||g===62||de(g)){const ne=g===47,je=o.toLowerCase();return!ne&&!s&&Wr.includes(je)?(i=1,r.interrupt?e(g):A(g)):tc.includes(o.toLowerCase())?(i=6,ne?(t.consume(g),v):r.interrupt?e(g):A(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?C(g):E(g))}return g===45||be(g)?(t.consume(g),o+=String.fromCharCode(g),k):n(g)}function v(g){return g===62?(t.consume(g),r.interrupt?e:A):n(g)}function C(g){return q(g)?(t.consume(g),C):H(g)}function E(g){return g===47?(t.consume(g),H):g===58||g===95||Ae(g)?(t.consume(g),N):q(g)?(t.consume(g),E):H(g)}function N(g){return g===45||g===46||g===58||g===95||be(g)?(t.consume(g),N):O(g)}function O(g){return g===61?(t.consume(g),_):q(g)?(t.consume(g),O):E(g)}function _(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(t.consume(g),l=g,z):q(g)?(t.consume(g),_):Y(g)}function z(g){return g===l?(t.consume(g),l=null,B):g===null||R(g)?n(g):(t.consume(g),z)}function Y(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||de(g)?O(g):(t.consume(g),Y)}function B(g){return g===47||g===62||q(g)?E(g):n(g)}function H(g){return g===62?(t.consume(g),I):n(g)}function I(g){return g===null||R(g)?A(g):q(g)?(t.consume(g),I):n(g)}function A(g){return g===45&&i===2?(t.consume(g),te):g===60&&i===1?(t.consume(g),X):g===62&&i===4?(t.consume(g),ae):g===63&&i===3?(t.consume(g),m):g===93&&i===5?(t.consume(g),pe):R(g)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(rc,me,V)(g)):g===null||R(g)?(t.exit("htmlFlowData"),V(g)):(t.consume(g),A)}function V(g){return t.check(ic,Q,me)(g)}function Q(g){return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),$}function $(g){return g===null||R(g)?V(g):(t.enter("htmlFlowData"),A(g))}function te(g){return g===45?(t.consume(g),m):A(g)}function X(g){return g===47?(t.consume(g),o="",oe):A(g)}function oe(g){if(g===62){const ne=o.toLowerCase();return Wr.includes(ne)?(t.consume(g),ae):A(g)}return Ae(g)&&o.length<8?(t.consume(g),o+=String.fromCharCode(g),oe):A(g)}function pe(g){return g===93?(t.consume(g),m):A(g)}function m(g){return g===62?(t.consume(g),ae):g===45&&i===2?(t.consume(g),m):A(g)}function ae(g){return g===null||R(g)?(t.exit("htmlFlowData"),me(g)):(t.consume(g),ae)}function me(g){return t.exit("htmlFlow"),e(g)}}function ac(t,e,n){const r=this;return i;function i(o){return R(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function lc(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(nn,e,n)}}const uc={name:"htmlText",tokenize:cc};function cc(t,e,n){const r=this;let i,s,o;return a;function a(m){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(m),l}function l(m){return m===33?(t.consume(m),c):m===47?(t.consume(m),O):m===63?(t.consume(m),E):Ae(m)?(t.consume(m),Y):n(m)}function c(m){return m===45?(t.consume(m),u):m===91?(t.consume(m),s=0,y):Ae(m)?(t.consume(m),C):n(m)}function u(m){return m===45?(t.consume(m),d):n(m)}function h(m){return m===null?n(m):m===45?(t.consume(m),f):R(m)?(o=h,X(m)):(t.consume(m),h)}function f(m){return m===45?(t.consume(m),d):h(m)}function d(m){return m===62?te(m):m===45?f(m):h(m)}function y(m){const ae="CDATA[";return m===ae.charCodeAt(s++)?(t.consume(m),s===ae.length?w:y):n(m)}function w(m){return m===null?n(m):m===93?(t.consume(m),k):R(m)?(o=w,X(m)):(t.consume(m),w)}function k(m){return m===93?(t.consume(m),v):w(m)}function v(m){return m===62?te(m):m===93?(t.consume(m),v):w(m)}function C(m){return m===null||m===62?te(m):R(m)?(o=C,X(m)):(t.consume(m),C)}function E(m){return m===null?n(m):m===63?(t.consume(m),N):R(m)?(o=E,X(m)):(t.consume(m),E)}function N(m){return m===62?te(m):E(m)}function O(m){return Ae(m)?(t.consume(m),_):n(m)}function _(m){return m===45||be(m)?(t.consume(m),_):z(m)}function z(m){return R(m)?(o=z,X(m)):q(m)?(t.consume(m),z):te(m)}function Y(m){return m===45||be(m)?(t.consume(m),Y):m===47||m===62||de(m)?B(m):n(m)}function B(m){return m===47?(t.consume(m),te):m===58||m===95||Ae(m)?(t.consume(m),H):R(m)?(o=B,X(m)):q(m)?(t.consume(m),B):te(m)}function H(m){return m===45||m===46||m===58||m===95||be(m)?(t.consume(m),H):I(m)}function I(m){return m===61?(t.consume(m),A):R(m)?(o=I,X(m)):q(m)?(t.consume(m),I):B(m)}function A(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(t.consume(m),i=m,V):R(m)?(o=A,X(m)):q(m)?(t.consume(m),A):(t.consume(m),Q)}function V(m){return m===i?(t.consume(m),i=void 0,$):m===null?n(m):R(m)?(o=V,X(m)):(t.consume(m),V)}function Q(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||de(m)?B(m):(t.consume(m),Q)}function $(m){return m===47||m===62||de(m)?B(m):n(m)}function te(m){return m===62?(t.consume(m),t.exit("htmlTextData"),t.exit("htmlText"),e):n(m)}function X(m){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),oe}function oe(m){return q(m)?K(t,pe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):pe(m)}function pe(m){return t.enter("htmlTextData"),o(m)}}const sr={name:"labelEnd",resolveAll:pc,resolveTo:mc,tokenize:gc},hc={tokenize:yc},dc={tokenize:bc},fc={tokenize:wc};function pc(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Ie(t,0,t.length,n),t}function mc(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=ve(a,t.slice(s+1,s+r+3)),a=ve(a,[["enter",u,e]]),a=ve(a,ir(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ve(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=ve(a,t.slice(o+1)),a=ve(a,[["exit",l,e]]),Ie(t,s,t.length,a),t}function gc(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(lt(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(hc,u,o?u:h)(f):f===91?t.attempt(dc,u,o?c:h)(f):o?u(f):h(f)}function c(f){return t.attempt(fc,u,h)(f)}function u(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function yc(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return de(h)?jt(t,s)(h):s(h)}function s(h){return h===41?u(h):fs(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return de(h)?jt(t,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?ms(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return de(h)?jt(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function bc(t,e,n){const r=this;return i;function i(a){return ps.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(lt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function wc(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const xc={name:"labelStartImage",resolveAll:sr.resolveAll,tokenize:vc};function vc(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const _c={name:"labelStartLink",resolveAll:sr.resolveAll,tokenize:kc};function kc(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const vn={name:"lineEnding",tokenize:Sc};function Sc(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),K(t,e,"linePrefix")}}const qt={name:"thematicBreak",tokenize:Ec};function Ec(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||R(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),q(c)?K(t,a,"whitespace")(c):a(c))}}const ce={continuation:{tokenize:Tc},exit:Ic,name:"list",tokenize:Pc},jc={partial:!0,tokenize:Oc},Cc={partial:!0,tokenize:Ac};function Pc(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(d){const y=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:Bn(d)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(qt,n,c)(d):c(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(d)}return n(d)}function l(d){return Bn(d)&&++o<10?(t.consume(d),l):(!r.interrupt||o<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),c(d)):n(d)}function c(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(nn,r.interrupt?n:u,t.attempt(jc,f,h))}function u(d){return r.containerState.initialBlankLine=!0,s++,f(d)}function h(d){return q(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function Tc(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(nn,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,K(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!q(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Cc,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,K(t,t.attempt(ce,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Ac(t,e,n){const r=this;return K(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Ic(t){t.exit(this.containerState.type)}function Oc(t,e,n){const r=this;return K(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!q(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Kr={name:"setextUnderline",resolveTo:Nc,tokenize:Rc};function Nc(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Rc(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),q(c)?K(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||R(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const Lc={tokenize:Dc};function Dc(t){const e=this,n=t.attempt(nn,r,t.attempt(this.parser.constructs.flowInitial,i,K(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Bu,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $c={resolveAll:ys()},zc=gs("string"),Uc=gs("text");function gs(t){return{resolveAll:ys(t==="text"?Fc:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function ys(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Fc(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const Bc={42:ce,43:ce,45:ce,48:ce,49:ce,50:ce,51:ce,52:ce,53:ce,54:ce,55:ce,56:ce,57:ce,62:us},Mc={91:Ju},qc={[-2]:xn,[-1]:xn,32:xn},Hc={35:Xu,42:qt,45:[Kr,qt],60:nc,61:Kr,95:qt,96:Jr,126:Jr},Vc={38:hs,92:cs},Jc={[-5]:vn,[-4]:vn,[-3]:vn,33:xc,38:hs,42:Mn,60:[_u,uc],91:_c,92:[Yu,cs],93:sr,95:Mn,96:Lu},Wc={null:[Mn,$c]},Kc={null:[42,95]},Gc={null:[]},Yc=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Kc,contentInitial:Mc,disable:Gc,document:Bc,flow:Hc,flowInitial:qc,insideSpan:Wc,string:Vc,text:Jc},Symbol.toStringTag,{value:"Module"}));function Qc(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:z(O),check:z(_),consume:C,enter:E,exit:N,interrupt:z(_,{interrupt:!0})},c={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:t,previous:null,sliceSerialize:f,sliceStream:d,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(I){return o=ve(o,I),k(),o[o.length-1]!==null?[]:(Y(e,0),c.events=ir(s,c.events,c),c.events)}function f(I,A){return Zc(d(I),A)}function d(I){return Xc(o,I)}function y(){const{_bufferIndex:I,_index:A,line:V,column:Q,offset:$}=r;return{_bufferIndex:I,_index:A,line:V,column:Q,offset:$}}function w(I){i[I.line]=I.column,H()}function k(){let I;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(I){u=u(I)}function C(I){R(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,H()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function E(I,A){const V=A||{};return V.type=I,V.start=y(),c.events.push(["enter",V,c]),a.push(V),V}function N(I){const A=a.pop();return A.end=y(),c.events.push(["exit",A,c]),A}function O(I,A){Y(I,A.from)}function _(I,A){A.restore()}function z(I,A){return V;function V(Q,$,te){let X,oe,pe,m;return Array.isArray(Q)?me(Q):"tokenize"in Q?me([Q]):ae(Q);function ae(Z){return Me;function Me(ke){const Re=ke!==null&&Z[ke],Le=ke!==null&&Z.null,Qe=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return me(Qe)(ke)}}function me(Z){return X=Z,oe=0,Z.length===0?te:g(Z[oe])}function g(Z){return Me;function Me(ke){return m=B(),pe=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?je():Z.tokenize.call(A?Object.assign(Object.create(c),A):c,l,ne,je)(ke)}}function ne(Z){return I(pe,m),$}function je(Z){return m.restore(),++oe<X.length?g(X[oe]):te}}}function Y(I,A){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&Ie(c.events,A,c.events.length-A,I.resolve(c.events.slice(A),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function B(){const I=y(),A=c.previous,V=c.currentConstruct,Q=c.events.length,$=Array.from(a);return{from:Q,restore:te};function te(){r=I,c.previous=A,c.currentConstruct=V,c.events.length=Q,a=$,H()}}function H(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Xc(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Zc(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function eh(t){const r={constructs:au([Yc,...(t||{}).extensions||[]]),content:i(mu),defined:[],document:i(yu),flow:i(Lc),lazy:{},string:i(zc),text:i(Uc)};return r;function i(s){return o;function o(a){return Qc(r,s,a)}}}function th(t){for(;!ds(t););return t}const Gr=/[\0\t\n\r]/g;function nh(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,h,f,d;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Gr.lastIndex=h,c=Gr.exec(s),f=c&&c.index!==void 0?c.index:s.length,d=s.charCodeAt(f),!c){e=s.slice(h);break}if(d===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),t+=f-h),d){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const rh=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ih(t){return t.replace(rh,sh)}function sh(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return ls(n.slice(s?2:1),s?16:10)}return rr(n)||t}const bs={}.hasOwnProperty;function oh(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ah(n)(th(eh(n).document().write(nh()(t,e,!0))))}function ah(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Lt),autolinkProtocol:B,autolinkEmail:B,atxHeading:s(qe),blockQuote:s(Le),characterEscape:B,characterReference:B,codeFenced:s(Qe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Qe,o),codeText:s(on,o),codeTextData:B,data:B,codeFlowValue:B,definition:s(Xe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ze),hardBreakEscape:s(Nt),hardBreakTrailing:s(Nt),htmlFlow:s(Rt,o),htmlFlowData:B,htmlText:s(Rt,o),htmlTextData:B,image:s(an),label:o,link:s(Lt),listItem:s(mt),listItemValue:f,listOrdered:s(et,h),listUnordered:s(et),paragraph:s(gt),reference:g,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(qe),strong:s(ln),thematicBreak:s(cn)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Re,autolinkProtocol:ke,blockQuote:l(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:je,characterReferenceMarkerNumeric:je,characterReferenceValue:Z,characterReference:Me,codeFenced:l(k),codeFencedFence:w,codeFencedFenceInfo:d,codeFencedFenceMeta:y,codeFlowValue:H,codeIndented:l(v),codeText:l($),codeTextData:H,data:H,definition:l(),definitionDestinationString:N,definitionLabelString:C,definitionTitleString:E,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(V),htmlFlowData:H,htmlText:l(Q),htmlTextData:H,image:l(X),label:pe,labelText:oe,lineEnding:I,link:l(te),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ne,resourceDestinationString:m,resourceTitleString:ae,resource:me,setextHeading:l(Y),setextHeadingLineSequence:z,setextHeadingText:_,strong:l(),thematicBreak:l()}};ws(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(x){let j={type:"root",children:[]};const b={stack:[j],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},P=[];let T=-1;for(;++T<x.length;)if(x[T][1].type==="listOrdered"||x[T][1].type==="listUnordered")if(x[T][0]==="enter")P.push(T);else{const G=P.pop();T=i(x,G,T)}for(T=-1;++T<x.length;){const G=e[x[T][0]];bs.call(G,x[T][1].type)&&G[x[T][1].type].call(Object.assign({sliceSerialize:x[T][2].sliceSerialize},b),x[T][1])}if(b.tokenStack.length>0){const G=b.tokenStack[b.tokenStack.length-1];(G[1]||Yr).call(b,void 0,G[0])}for(j.position={start:De(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:De(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},T=-1;++T<e.transforms.length;)j=e.transforms[T](j)||j;return j}function i(x,j,b){let P=j-1,T=-1,G=!1,we,le,Se,Ce;for(;++P<=b;){const ie=x[P];switch(ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ie[0]==="enter"?T++:T--,Ce=void 0;break}case"lineEndingBlank":{ie[0]==="enter"&&(we&&!Ce&&!T&&!Se&&(Se=P),Ce=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ce=void 0}if(!T&&ie[0]==="enter"&&ie[1].type==="listItemPrefix"||T===-1&&ie[0]==="exit"&&(ie[1].type==="listUnordered"||ie[1].type==="listOrdered")){if(we){let tt=P;for(le=void 0;tt--;){const Oe=x[tt];if(Oe[1].type==="lineEnding"||Oe[1].type==="lineEndingBlank"){if(Oe[0]==="exit")continue;le&&(x[le][1].type="lineEndingBlank",G=!0),Oe[1].type="lineEnding",le=tt}else if(!(Oe[1].type==="linePrefix"||Oe[1].type==="blockQuotePrefix"||Oe[1].type==="blockQuotePrefixWhitespace"||Oe[1].type==="blockQuoteMarker"||Oe[1].type==="listItemIndent"))break}Se&&(!le||Se<le)&&(we._spread=!0),we.end=Object.assign({},le?x[le][1].start:ie[1].end),x.splice(le||P,0,["exit",we,ie[2]]),P++,b++}if(ie[1].type==="listItemPrefix"){const tt={type:"listItem",_spread:!1,start:Object.assign({},ie[1].start),end:void 0};we=tt,x.splice(P,0,["enter",tt,ie[2]]),P++,b++,Se=void 0,Ce=!0}}}return x[j][1]._spread=G,b}function s(x,j){return b;function b(P){a.call(this,x(P),P),j&&j.call(this,P)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(x,j,b){this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([j,b||void 0]),x.position={start:De(j.start),end:void 0}}function l(x){return j;function j(b){x&&x.call(this,b),c.call(this,b)}}function c(x,j){const b=this.stack.pop(),P=this.tokenStack.pop();if(P)P[0].type!==x.type&&(j?j.call(this,x,P[0]):(P[1]||Yr).call(this,x,P[0]));else throw new Error("Cannot close `"+x.type+"` ("+Et({start:x.start,end:x.end})+"): its not open");b.position.end=De(x.end)}function u(){return su(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(x){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(x),10),this.data.expectingFirstListItemValue=void 0}}function d(){const x=this.resume(),j=this.stack[this.stack.length-1];j.lang=x}function y(){const x=this.resume(),j=this.stack[this.stack.length-1];j.meta=x}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const x=this.resume(),j=this.stack[this.stack.length-1];j.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const x=this.resume(),j=this.stack[this.stack.length-1];j.value=x.replace(/(\r?\n|\r)$/g,"")}function C(x){const j=this.resume(),b=this.stack[this.stack.length-1];b.label=j,b.identifier=lt(this.sliceSerialize(x)).toLowerCase()}function E(){const x=this.resume(),j=this.stack[this.stack.length-1];j.title=x}function N(){const x=this.resume(),j=this.stack[this.stack.length-1];j.url=x}function O(x){const j=this.stack[this.stack.length-1];if(!j.depth){const b=this.sliceSerialize(x).length;j.depth=b}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function z(x){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(x).codePointAt(0)===61?1:2}function Y(){this.data.setextHeadingSlurpLineEnding=void 0}function B(x){const b=this.stack[this.stack.length-1].children;let P=b[b.length-1];(!P||P.type!=="text")&&(P=un(),P.position={start:De(x.start),end:void 0},b.push(P)),this.stack.push(P)}function H(x){const j=this.stack.pop();j.value+=this.sliceSerialize(x),j.position.end=De(x.end)}function I(x){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const b=j.children[j.children.length-1];b.position.end=De(x.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(j.type)&&(B.call(this,x),H.call(this,x))}function A(){this.data.atHardBreak=!0}function V(){const x=this.resume(),j=this.stack[this.stack.length-1];j.value=x}function Q(){const x=this.resume(),j=this.stack[this.stack.length-1];j.value=x}function $(){const x=this.resume(),j=this.stack[this.stack.length-1];j.value=x}function te(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=j,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function X(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=j,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function oe(x){const j=this.sliceSerialize(x),b=this.stack[this.stack.length-2];b.label=ih(j),b.identifier=lt(j).toLowerCase()}function pe(){const x=this.stack[this.stack.length-1],j=this.resume(),b=this.stack[this.stack.length-1];if(this.data.inReference=!0,b.type==="link"){const P=x.children;b.children=P}else b.alt=j}function m(){const x=this.resume(),j=this.stack[this.stack.length-1];j.url=x}function ae(){const x=this.resume(),j=this.stack[this.stack.length-1];j.title=x}function me(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ne(x){const j=this.resume(),b=this.stack[this.stack.length-1];b.label=j,b.identifier=lt(this.sliceSerialize(x)).toLowerCase(),this.data.referenceType="full"}function je(x){this.data.characterReferenceType=x.type}function Z(x){const j=this.sliceSerialize(x),b=this.data.characterReferenceType;let P;b?(P=ls(j,b==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):P=rr(j);const T=this.stack[this.stack.length-1];T.value+=P}function Me(x){const j=this.stack.pop();j.position.end=De(x.end)}function ke(x){H.call(this,x);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(x)}function Re(x){H.call(this,x);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(x)}function Le(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function on(){return{type:"inlineCode",value:""}}function Xe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ze(){return{type:"emphasis",children:[]}}function qe(){return{type:"heading",depth:0,children:[]}}function Nt(){return{type:"break"}}function Rt(){return{type:"html",value:""}}function an(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function et(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function mt(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function ln(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function cn(){return{type:"thematicBreak"}}}function De(t){return{line:t.line,column:t.column,offset:t.offset}}function ws(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ws(t,r):lh(t,r)}}function lh(t,e){let n;for(n in e)if(bs.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Yr(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Et({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Et({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Et({start:e.start,end:e.end})+") is still open")}function uh(t){const e=this;e.parser=n;function n(r){return oh(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ch(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function hh(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function dh(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function fh(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ph(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mh(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=pt(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function gh(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function yh(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xs(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function bh(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xs(t,e);const i={src:pt(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function wh(t,e){const n={src:pt(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function xh(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function vh(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xs(t,e);const i={href:pt(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function _h(t,e){const n={href:pt(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kh(t,e,n){const r=t.all(e),i=n?Sh(n):vs(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Sh(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=vs(n[r])}return e}function vs(t){const e=t.spread;return e??t.children.length>1}function Eh(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function jh(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ch(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ph(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Th(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Zn(e.children[1]),l=ts(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Ah(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const h=e.children[l],f={},d=o?o[l]:void 0;d&&(f.align=d);let y={type:"element",tagName:s,properties:f,children:[]};h&&(y.children=t.all(h),t.patch(h,y),y=t.applyData(h,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function Ih(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Qr=9,Xr=32;function Oh(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Zr(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Zr(e.slice(i),i>0,!1)),s.join("")}function Zr(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Qr||s===Xr;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Qr||s===Xr;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Nh(t,e){const n={type:"text",value:Oh(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Rh(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Lh={blockquote:ch,break:hh,code:dh,delete:fh,emphasis:ph,footnoteReference:mh,heading:gh,html:yh,imageReference:bh,image:wh,inlineCode:xh,linkReference:vh,link:_h,listItem:kh,list:Eh,paragraph:jh,root:Ch,strong:Ph,table:Th,tableCell:Ih,tableRow:Ah,text:Nh,thematicBreak:Rh,toml:Ft,yaml:Ft,definition:Ft,footnoteDefinition:Ft};function Ft(){}const _s=-1,rn=0,Jt=1,Wt=2,or=3,ar=4,lr=5,ur=6,ks=7,Ss=8,ei=typeof self=="object"?self:globalThis,Dh=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case rn:case _s:return n(o,i);case Jt:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Wt:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case or:return n(new Date(o),i);case ar:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case lr:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case ur:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case ks:{const{name:a,message:l}=o;return n(new ei[a](l),i)}case Ss:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new ei[s](o),i)};return r},ti=t=>Dh(new Map,t)(0),st="",{toString:$h}={},{keys:zh}=Object,vt=t=>{const e=typeof t;if(e!=="object"||!t)return[rn,e];const n=$h.call(t).slice(8,-1);switch(n){case"Array":return[Jt,st];case"Object":return[Wt,st];case"Date":return[or,st];case"RegExp":return[ar,st];case"Map":return[lr,st];case"Set":return[ur,st]}return n.includes("Array")?[Jt,n]:n.includes("Error")?[ks,n]:[Wt,n]},Bt=([t,e])=>t===rn&&(e==="function"||e==="symbol"),Uh=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=vt(o);switch(a){case rn:{let u=o;switch(l){case"bigint":a=Ss,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([_s],o)}return i([a,u],o)}case Jt:{if(l)return i([l,[...o]],o);const u=[],h=i([a,u],o);for(const f of o)u.push(s(f));return h}case Wt:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],h=i([a,u],o);for(const f of zh(o))(t||!Bt(vt(o[f])))&&u.push([s(f),s(o[f])]);return h}case or:return i([a,o.toISOString()],o);case ar:{const{source:u,flags:h}=o;return i([a,{source:u,flags:h}],o)}case lr:{const u=[],h=i([a,u],o);for(const[f,d]of o)(t||!(Bt(vt(f))||Bt(vt(d))))&&u.push([s(f),s(d)]);return h}case ur:{const u=[],h=i([a,u],o);for(const f of o)(t||!Bt(vt(f)))&&u.push(s(f));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},ni=(t,{json:e,lossy:n}={})=>{const r=[];return Uh(!(e||n),!!e,new Map,r)(t),r},Kt=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ti(ni(t,e)):structuredClone(t):(t,e)=>ti(ni(t,e));function Fh(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Bh(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Mh(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Fh,r=t.options.footnoteBackLabel||Bh,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),h=String(c.identifier).toUpperCase(),f=pt(h.toLowerCase());let d=0;const y=[],w=t.footnoteCounts.get(h);for(;w!==void 0&&++d<=w;){y.length>0&&y.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,d);typeof C=="string"&&(C={type:"text",value:C}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,d),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const k=u[u.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const C=k.children[k.children.length-1];C&&C.type==="text"?C.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...y)}else u.push(...y);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(u,!0)};t.patch(c,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Kt(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Es=function(t){if(t==null)return Jh;if(typeof t=="function")return sn(t);if(typeof t=="object")return Array.isArray(t)?qh(t):Hh(t);if(typeof t=="string")return Vh(t);throw new Error("Expected function, string, or object as test")};function qh(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Es(t[n]);return sn(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Hh(t){const e=t;return sn(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Vh(t){return sn(e);function e(n){return n&&n.type===t}}function sn(t){return e;function e(n,r,i){return!!(Wh(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Jh(){return!0}function Wh(t){return t!==null&&typeof t=="object"&&"type"in t}const js=[],Kh=!0,ri=!1,Gh="skip";function Yh(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Es(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=js,y,w,k;if((!e||s(l,c,u[u.length-1]||void 0))&&(d=Qh(n(l,u)),d[0]===ri))return d;if("children"in l&&l.children){const v=l;if(v.children&&d[0]!==Gh)for(w=(r?v.children.length:-1)+o,k=u.concat(v);w>-1&&w<v.children.length;){const C=v.children[w];if(y=a(C,w,k)(),y[0]===ri)return y;w=typeof y[1]=="number"?y[1]:w+o}}return d}}}function Qh(t){return Array.isArray(t)?t:typeof t=="number"?[Kh,t]:t==null?js:[t]}function Cs(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),Yh(t,s,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return o(l,h,u)}}const qn={}.hasOwnProperty,Xh={};function Zh(t,e){const n=e||Xh,r=new Map,i=new Map,s=new Map,o={...Lh,...n.handlers},a={all:c,applyData:td,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:ed,wrap:rd};return Cs(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,f=String(u.identifier).toUpperCase();h.has(f)||h.set(f,u)}}),a;function l(u,h){const f=u.type,d=a.handlers[f];if(qn.call(a.handlers,f)&&d)return d(a,u,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in u){const{children:w,...k}=u,v=Kt(k);return v.children=a.all(u),v}return Kt(u)}return(a.options.unknownHandler||nd)(a,u,h)}function c(u){const h=[];if("children"in u){const f=u.children;let d=-1;for(;++d<f.length;){const y=a.one(f[d],u);if(y){if(d&&f[d-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=ii(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=ii(w.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function ed(t,e){t.position&&(e.position=Ll(t))}function td(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Kt(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nd(t,e){const n=e.data||{},r="value"in e&&!(qn.call(n,"hProperties")||qn.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function rd(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ii(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function si(t,e){const n=Zh(t,e),r=n.one(t,void 0),i=Mh(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function id(t,e){return t&&"run"in t?async function(n,r){const i=si(n,{file:r,...e});await t.run(i,r)}:function(n,r){return si(n,{file:r,...t||e})}}function oi(t){if(t)throw t}var Ht=Object.prototype.hasOwnProperty,Ps=Object.prototype.toString,ai=Object.defineProperty,li=Object.getOwnPropertyDescriptor,ui=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Ps.call(e)==="[object Array]"},ci=function(e){if(!e||Ps.call(e)!=="[object Object]")return!1;var n=Ht.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Ht.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Ht.call(e,i)},hi=function(e,n){ai&&n.name==="__proto__"?ai(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},di=function(e,n){if(n==="__proto__")if(Ht.call(e,n)){if(li)return li(e,n).value}else return;return e[n]},sd=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=di(a,n),i=di(e,n),a!==i&&(u&&i&&(ci(i)||(s=ui(i)))?(s?(s=!1,o=r&&ui(r)?r:[]):o=r&&ci(r)?r:{},hi(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&hi(a,{name:n,newValue:i}));return a};const _n=Ms(sd);function Hn(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function od(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?ad(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function ad(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Te={basename:ld,dirname:ud,extname:cd,join:hd,sep:"/"};function ld(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ot(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ud(t){if(Ot(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function cd(t){Ot(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function hd(...t){let e=-1,n;for(;++e<t.length;)Ot(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":dd(n)}function dd(t){Ot(t);const e=t.codePointAt(0)===47;let n=fd(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function fd(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Ot(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const pd={cwd:md};function md(){return"/"}function Vn(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function gd(t){if(typeof t=="string")t=new URL(t);else if(!Vn(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return yd(t)}function yd(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const kn=["history","path","basename","stem","extname","dirname"];class Ts{constructor(e){let n;e?Vn(e)?n={path:e}:typeof e=="string"||bd(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":pd.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<kn.length;){const s=kn[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)kn.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Te.basename(this.path):void 0}set basename(e){En(e,"basename"),Sn(e,"basename"),this.path=Te.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Te.dirname(this.path):void 0}set dirname(e){fi(this.basename,"dirname"),this.path=Te.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Te.extname(this.path):void 0}set extname(e){if(Sn(e,"extname"),fi(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Te.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Vn(e)&&(e=gd(e)),En(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Te.basename(this.path,this.extname):void 0}set stem(e){En(e,"stem"),Sn(e,"stem"),this.path=Te.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new se(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Sn(t,e){if(t&&t.includes(Te.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Te.sep+"`")}function En(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function fi(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function bd(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const wd=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},xd={}.hasOwnProperty;class cr extends wd{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=od()}copy(){const e=new cr;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(_n(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Pn("data",this.frozen),this.namespace[e]=n,this):xd.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Pn("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Mt(e),r=this.parser||this.Parser;return jn("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),jn("process",this.parser||this.Parser),Cn("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Mt(e),l=r.parse(a);r.run(l,a,function(u,h,f){if(u||!h||!f)return c(u);const d=h,y=r.stringify(d,f);kd(y)?f.value=y:f.result=y,c(u,f)});function c(u,h){u||!h?o(u):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),jn("processSync",this.parser||this.Parser),Cn("processSync",this.compiler||this.Compiler),this.process(e,i),mi("processSync","process",n),r;function i(s,o){n=!0,oi(s),r=o}}run(e,n,r){pi(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Mt(n);i.run(e,l,c);function c(u,h,f){const d=h||e;u?a(u):o?o(d):r(void 0,d,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),mi("runSync","run",r),i;function s(o,a){oi(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Mt(n),i=this.compiler||this.Compiler;return Cn("stringify",i),pi(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Pn("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=_n(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===c){f=h;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[d,...y]=u;const w=r[f][1];Hn(w)&&Hn(d)&&(d=_n(!0,w,d)),r[f]=[c,d,...y]}}}}const vd=new cr().freeze();function jn(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cn(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Pn(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pi(t){if(!Hn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function mi(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Mt(t){return _d(t)?t:new Ts(t)}function _d(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function kd(t){return typeof t=="string"||Sd(t)}function Sd(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ed="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gi=[],yi={allowDangerousHtml:!0},jd=/^(https?|ircs?|mailto|xmpp)$/i,Cd=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Pd(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,o=t.disallowedElements,a=t.rehypePlugins||gi,l=t.remarkPlugins||gi,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...yi}:yi,u=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||Td,d=vd().use(uh).use(l).use(id,c).use(a),y=new Ts;typeof r=="string"&&(y.value=r);for(const C of Cd)Object.hasOwn(t,C.from)&&(""+C.from+(C.to?"use `"+C.to+"` instead":"remove it")+Ed+C.id,void 0);const w=d.parse(y);let k=d.runSync(w,y);return i&&(k={type:"element",tagName:"div",properties:{className:i},children:k.type==="root"?k.children:[k]}),Cs(k,v),Bl(k,{Fragment:p.Fragment,components:s,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function v(C,E,N){if(C.type==="raw"&&N&&typeof E=="number")return u?N.children.splice(E,1):N.children[E]={type:"text",value:C.value},E;if(C.type==="element"){let O;for(O in wn)if(Object.hasOwn(wn,O)&&Object.hasOwn(C.properties,O)){const _=C.properties[O],z=wn[O];(z===null||z.includes(C.tagName))&&(C.properties[O]=f(String(_||""),O,C))}}if(C.type==="element"){let O=e?!e.includes(C.tagName):o?o.includes(C.tagName):!1;if(!O&&n&&typeof E=="number"&&(O=!n(C,E,N)),O&&N&&typeof E=="number")return h&&C.children?N.children.splice(E,1,...C.children):N.children.splice(E,1),E}}}function Td(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||jd.test(t.slice(0,e))?t:""}function Ad(){const[t,e]=F.useState([]),[n,r]=F.useState(null),[i,s]=F.useState(null);F.useEffect(()=>{o(),a()},[]);async function o(){const{data:u}=await M.from("blog_posts").select("*").order("created_at",{ascending:!1});u&&e(u)}async function a(){try{const{data:{user:u}}=await M.auth.getUser();if(!u)return;let{data:h,error:f}=await M.from("profiles").select("avatar_url").eq("id",u.id).maybeSingle();if(f){console.error("Error fetching profile:",f);return}h!=null&&h.avatar_url&&s(h.avatar_url)}catch(u){console.error("Error:",u)}}const l=(u,h)=>{const f=t.find(k=>k.id===u);if(!f)return;const d=window.location.href,y=`Check out this post: ${f.title}`;let w="";switch(h){case"twitter":w=`https://twitter.com/intent/tweet?text=${encodeURIComponent(y)}&url=${encodeURIComponent(d)}`;break;case"facebook":w=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}`;break;case"linkedin":w=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(d)}`;break;default:if(navigator.share){navigator.share({title:f.title,text:y,url:d});return}}w&&window.open(w,"_blank","width=600,height=400")},c=[{id:1,title:"Legal Services Platform",description:"A platform enhancing access to legal services and improving client-lawyer interactions through innovative technology.",link:"https://github.com/quantumNexus0/LegalService",image:"https://images.unsplash.com/photo-1589829085413-56de8ae18c73?auto=format&fit=crop&q=80&w=800"},{id:2,title:"Railway Reservation System",description:"GUI-based desktop application for managing railway reservations using Java (JFrame) and MySQL.",link:"https://github.com/quantumNexus0/RailwayReservationSystem-",image:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?auto=format&fit=crop&q=80&w=800"}];return p.jsxs("div",{className:"bg-gray-50",children:[p.jsx(xe.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:p.jsx("div",{className:"container mx-auto px-6 py-16",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[p.jsxs("div",{className:"md:w-1/2 mb-8 md:mb-0",children:[p.jsx(xe.h1,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},className:"text-4xl md:text-6xl font-bold mb-4",children:"Hi, I'm Vipul Yadav"}),p.jsxs(xe.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.4,duration:.5},className:"space-y-4",children:[p.jsx("p",{className:"text-xl",children:"Information Technology Student & Web Developer"}),p.jsx("p",{className:"text-lg",children:"Passionate about technology, yoga, and creating impactful solutions"}),p.jsx("p",{className:"text-lg",children:"Currently pursuing B.Tech in Information Technology"})]}),p.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"flex space-x-4 mt-8",children:[p.jsx("a",{href:"https://github.com/quantumNexus0",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-200 transition-colors duration-300",children:p.jsx(Tn,{size:24})}),p.jsx("a",{href:"https://www.instagram.com/vipulyadav_02",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-gray-200 transition-colors duration-300",children:p.jsx(bi,{size:24})}),p.jsx("a",{href:"mailto:fusionfission55@gmail.com",className:"text-white hover:text-gray-200 transition-colors duration-300",children:p.jsx(wi,{size:24})})]})]}),p.jsx(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},className:"md:w-1/3",children:p.jsx("img",{src:i||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=400",alt:"Vipul Yadav",className:"rounded-full w-64 h-64 md-6 object-cover border-4 border-white shadow-lg transform hover:scale-105 transition-transform duration-300"})})]})})}),p.jsx("section",{id:"about",className:"py-16 bg-white",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsx(xe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl font-bold mb-8 text-center",children:"About Me"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:Is,title:"Web Development",desc:"Passionate about creating modern web applications using React and other cutting-edge technologies."},{icon:Os,title:"B.Tech IT Student",desc:"Currently in my 3rd year, focusing on building a strong foundation in Information Technology."},{icon:Ns,title:"Yoga Enthusiast",desc:"Dedicated practitioner with deep knowledge in yoga and its benefits for mind and body."}].map((u,h)=>p.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.2,duration:.5},whileHover:{scale:1.05},className:"text-center p-6 hover:shadow-lg transition-all duration-300 rounded-lg bg-white",children:[p.jsx(u.icon,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),p.jsx("p",{children:u.desc})]},h))})]})}),p.jsx("section",{id:"projects",className:"py-16 bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsx(xe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl font-bold mb-8 text-center",children:"Projects"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:c.map((u,h)=>p.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.2,duration:.5},whileHover:{y:-5},className:"bg-white rounded-lg shadow-md overflow-hidden transform transition-all duration-300",children:[p.jsx("img",{src:u.image,alt:u.title,className:"w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300"}),p.jsxs("div",{className:"p-6",children:[p.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),p.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),p.jsxs("a",{href:u.link,className:"text-blue-600 hover:text-blue-800 flex items-center transition-colors duration-300",target:"_blank",rel:"noopener noreferrer",children:[p.jsx(Tn,{className:"w-4 h-4 mr-2"}),"View on GitHub"]})]})]},u.id))})]})}),p.jsx("section",{id:"blog",className:"py-16 bg-white",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsx(xe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl font-bold mb-8 text-center",children:"Blog Posts"}),p.jsx("div",{className:"grid grid-cols-1 gap-8",children:t.map((u,h)=>p.jsxs(xe.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.2,duration:.5},className:"bg-gray-50 rounded-lg p-6 hover:shadow-lg transition-all duration-300",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("h3",{className:"text-xl font-semibold",children:u.title}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>r(n===u.id?null:u.id),className:"p-2 hover:bg-gray-200 rounded-full transition-colors duration-300",children:p.jsx(Rs,{size:20})}),n===u.id&&p.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-lg shadow-xl z-10",children:[p.jsxs("button",{onClick:()=>l(u.id,"twitter"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center",children:[p.jsx(Ls,{size:16,className:"mr-2"})," Share on Twitter"]}),p.jsxs("button",{onClick:()=>l(u.id,"facebook"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center",children:[p.jsx(Ds,{size:16,className:"mr-2"})," Share on Facebook"]}),p.jsxs("button",{onClick:()=>l(u.id,"linkedin"),className:"w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center",children:[p.jsx($s,{size:16,className:"mr-2"})," Share on LinkedIn"]})]})]})]}),p.jsx("div",{className:"prose max-w-none",children:p.jsx(Pd,{children:u.content})}),u.video_url&&p.jsx("div",{className:"mt-4",children:p.jsx("iframe",{width:"100%",height:"315",src:u.video_url,title:"Video content",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-lg"})}),p.jsx("p",{className:"text-sm text-gray-500 mt-4",children:new Date(u.created_at).toLocaleDateString()})]},u.id))})]})})]})}function Id(){const t=vi(),[e,n]=F.useState(""),[r,i]=F.useState(""),[s,o]=F.useState(""),[a,l]=F.useState(!1),[c,u]=F.useState([]),[h,f]=F.useState(null),[d,y]=F.useState(0),[w,k]=F.useState(null),[v,C]=F.useState([]),[E,N]=F.useState(null),[O,_]=F.useState(""),[z,Y]=F.useState(""),[B,H]=F.useState(""),[I,A]=F.useState(""),[V,Q]=F.useState([]),[$,te]=F.useState(null),[X,oe]=F.useState(""),[pe,m]=F.useState(""),[ae,me]=F.useState(""),[g,ne]=F.useState("blog"),[je,Z]=F.useState(""),[Me,ke]=F.useState(!1);F.useEffect(()=>{Re(),Le(),Qe()},[]);async function Re(){const{data:{session:b}}=await M.auth.getSession();b||t("/login")}async function Le(){Xe(),Ze(),qe()}async function Qe(){try{const{data:{user:b}}=await M.auth.getUser();if(!b)return;let{data:P,error:T}=await M.from("profiles").select("avatar_url").eq("id",b.id).maybeSingle();if(T){console.error("Error fetching profile:",T);return}P!=null&&P.avatar_url&&Z(P.avatar_url)}catch(b){console.error("Error:",b)}}async function on(b){var P;try{ke(!0);const{data:{user:T}}=await M.auth.getUser();if(!T)throw new Error("No user");const G=(P=b.target.files)==null?void 0:P[0];if(!G)return;const we=G.name.split(".").pop(),le=`${T.id}-${Math.random()}${Date.now()}.${we}`,{error:Se}=await M.storage.from("avatars").upload(le,G);if(Se)throw Se;const{data:{publicUrl:Ce}}=M.storage.from("avatars").getPublicUrl(le),{error:ie}=await M.from("profiles").upsert({id:T.id,avatar_url:Ce,updated_at:new Date().toISOString()},{onConflict:"id"});if(ie)throw ie;Z(Ce),alert("Profile picture updated successfully!")}catch(T){console.error("Error uploading avatar:",T),alert("Error uploading avatar!")}finally{ke(!1)}}async function Xe(){const{data:b}=await M.from("blog_posts").select("*").order("created_at",{ascending:!1});b&&u(b)}async function Ze(){const{data:b}=await M.from("projects").select("*").order("title",{ascending:!0});b&&C(b)}async function qe(){const{data:b}=await M.from("about_sections").select("*").order("title",{ascending:!0});b&&Q(b)}async function Nt(b){if(!b)return null;try{const P=b.name.split(".").pop(),G=`videos/${`${Math.random()}${Date.now()}.${P}`}`,{error:we}=await M.storage.from("blog-videos").upload(G,b,{onUploadProgress:Se=>{const Ce=Se.loaded/Se.total*100;y(Math.round(Ce))}});if(we)throw we;const{data:{publicUrl:le}}=M.storage.from("blog-videos").getPublicUrl(G);return le}catch(P){return console.error("Error uploading video:",P),alert("Error uploading video. Please try again."),null}}async function Rt(b){b.preventDefault(),l(!0);const{data:{user:P}}=await M.auth.getUser();if(!P){alert("Please log in to create posts"),l(!1);return}let T=s;if(w){const G=await Nt(w);G&&(T=G)}if(h){const{error:G}=await M.from("blog_posts").update({title:e,content:r,video_url:T||null}).eq("id",h.id);G?alert("Error updating post"):(alert("Post updated successfully!"),et(),Xe())}else{const{error:G}=await M.from("blog_posts").insert([{title:e,content:r,video_url:T||null,user_id:P.id}]);G?alert("Error creating post"):(alert("Post created successfully!"),et(),Xe())}l(!1),y(0)}async function an(b){b.preventDefault(),l(!0);const{data:{user:P}}=await M.auth.getUser();if(!P){alert("Please log in to manage projects"),l(!1);return}if(E){const{error:T}=await M.from("projects").update({title:O,description:z,link:B,image:I}).eq("id",E.id);T?alert("Error updating project"):(alert("Project updated successfully!"),mt(),Ze())}else{const{error:T}=await M.from("projects").insert([{title:O,description:z,link:B,image:I,user_id:P.id}]);T?alert("Error creating project"):(alert("Project created successfully!"),mt(),Ze())}l(!1)}async function Lt(b){b.preventDefault(),l(!0);const{data:{user:P}}=await M.auth.getUser();if(!P){alert("Please log in to manage about sections"),l(!1);return}if($){const{error:T}=await M.from("about_sections").update({title:X,description:pe,icon:ae}).eq("id",$.id);T?alert("Error updating about section"):(alert("About section updated successfully!"),gt(),qe())}else{const{error:T}=await M.from("about_sections").insert([{title:X,description:pe,icon:ae,user_id:P.id}]);T?alert("Error creating about section"):(alert("About section created successfully!"),gt(),qe())}l(!1)}function et(){n(""),i(""),o(""),k(null),f(null),y(0)}function mt(){_(""),Y(""),H(""),A(""),N(null)}function gt(){oe(""),m(""),me(""),te(null)}async function ln(b){f(b),n(b.title),i(b.content),o(b.video_url||""),k(null),ne("blog"),window.scrollTo({top:0,behavior:"smooth"})}async function un(b){N(b),_(b.title),Y(b.description),H(b.link),A(b.image),ne("projects"),window.scrollTo({top:0,behavior:"smooth"})}async function cn(b){te(b),oe(b.title),m(b.description),me(b.icon),ne("about"),window.scrollTo({top:0,behavior:"smooth"})}async function x(b,P){if(window.confirm(`Are you sure you want to delete this ${b}?`)){let T;switch(b){case"blog":({error:T}=await M.from("blog_posts").delete().eq("id",P)),T||Xe();break;case"project":({error:T}=await M.from("projects").delete().eq("id",P)),T||Ze();break;case"about":({error:T}=await M.from("about_sections").delete().eq("id",P)),T||qe();break}alert(T?`Error deleting ${b}`:`${b} deleted successfully!`)}}async function j(){await M.auth.signOut(),t("/login")}return p.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200",children:je?p.jsx("img",{src:je,alt:"Profile",className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:p.jsx(hr,{className:"w-8 h-8 text-gray-400"})})}),p.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-1.5 cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx(hr,{className:"w-4 h-4 text-white"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:on,disabled:Me})]})]}),p.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),p.jsx("button",{onClick:j,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Sign Out"})]}),p.jsxs("div",{className:"flex space-x-4 mb-8",children:[p.jsx("button",{onClick:()=>ne("blog"),className:`px-4 py-2 rounded ${g==="blog"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Blog Posts"}),p.jsx("button",{onClick:()=>ne("projects"),className:`px-4 py-2 rounded ${g==="projects"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Projects"}),p.jsx("button",{onClick:()=>ne("about"),className:`px-4 py-2 rounded ${g==="about"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"About Sections"})]}),g==="blog"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:h?"Edit Post":"Create New Post"}),p.jsxs("form",{onSubmit:Rt,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),p.jsx("input",{type:"text",value:e,onChange:b=>n(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Content (Markdown supported)"}),p.jsx("textarea",{value:r,onChange:b=>i(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-64",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Video"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("label",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[p.jsx(zs,{className:"w-5 h-5 mr-2"}),"Choose Video",p.jsx("input",{type:"file",accept:"video/*",className:"hidden",onChange:b=>{var T;const P=(T=b.target.files)==null?void 0:T[0];P&&(k(P),o(""))}})]}),w&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"text-sm text-gray-600",children:w.name}),p.jsx("button",{type:"button",onClick:()=>k(null),className:"ml-2 text-red-600 hover:text-red-800",children:p.jsx(xi,{size:16})})]})]}),d>0&&d<100&&p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:p.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`}})}),p.jsx("p",{className:"text-sm text-gray-500",children:"Or enter a video URL:"}),p.jsx("input",{type:"url",value:s,onChange:b=>{o(b.target.value),k(null)},placeholder:"https://example.com/video.mp4",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 flex-grow",children:a?"Saving...":h?"Update Post":"Create Post"}),h&&p.jsx("button",{type:"button",onClick:et,className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Manage Posts"}),p.jsx("div",{className:"space-y-4",children:c.map(b=>p.jsx("div",{className:"border-b pb-4 last:border-b-0 last:pb-0",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:b.title}),p.jsx("p",{className:"text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),b.video_url&&p.jsx("p",{className:"text-sm text-blue-600",children:"Has video"})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>ln(b),className:"text-blue-600 hover:text-blue-800",children:p.jsx(hn,{size:20})}),p.jsx("button",{onClick:()=>x("blog",b.id),className:"text-red-600 hover:text-red-800",children:p.jsx(dn,{size:20})})]})]})},b.id))})]})]}),g==="projects"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:E?"Edit Project":"Create New Project"}),p.jsxs("form",{onSubmit:an,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),p.jsx("input",{type:"text",value:O,onChange:b=>_(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),p.jsx("textarea",{value:z,onChange:b=>Y(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"GitHub Link"}),p.jsx("input",{type:"url",value:B,onChange:b=>H(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Image URL"}),p.jsx("input",{type:"url",value:I,onChange:b=>A(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 flex-grow",children:a?"Saving...":E?"Update Project":"Create Project"}),E&&p.jsx("button",{type:"button",onClick:mt,className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Manage Projects"}),p.jsx("div",{className:"space-y-4",children:v.map(b=>p.jsx("div",{className:"border-b pb-4 last:border-b-0 last:pb-0",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600",children:b.description})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>un(b),className:"text-blue-600 hover:text-blue-800",children:p.jsx(hn,{size:20})}),p.jsx("button",{onClick:()=>x("project",b.id),className:"text-red-600 hover:text-red-800",children:p.jsx(dn,{size:20})})]})]})},b.id))})]})]}),g==="about"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:$?"Edit About Section":"Create New About Section"}),p.jsxs("form",{onSubmit:Lt,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Title"}),p.jsx("input",{type:"text",value:X,onChange:b=>oe(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Description"}),p.jsx("textarea",{value:pe,onChange:b=>m(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Icon Name (from Lucide)"}),p.jsx("input",{type:"text",value:ae,onChange:b=>me(b.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"e.g., Code, BookOpen, Heart",required:!0})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 flex-grow",children:a?"Saving...":$?"Update Section":"Create Section"}),$&&p.jsx("button",{type:"button",onClick:gt,className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600",children:"Cancel"})]})]})]}),p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Manage About Sections"}),p.jsx("div",{className:"space-y-4",children:V.map(b=>p.jsx("div",{className:"border-b pb-4 last:border-b-0 last:pb-0",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold",children:b.title}),p.jsx("p",{className:"text-sm text-gray-600",children:b.description})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>cn(b),className:"text-blue-600 hover:text-blue-800",children:p.jsx(hn,{size:20})}),p.jsx("button",{onClick:()=>x("about",b.id),className:"text-red-600 hover:text-red-800",children:p.jsx(dn,{size:20})})]})]})},b.id))})]})]})]})})}function Od(){const t=vi(),[e,n]=F.useState(""),[r,i]=F.useState(""),[s,o]=F.useState(!1),[a,l]=F.useState("");F.useEffect(()=>{c()},[]);async function c(){const{data:{session:f}}=await M.auth.getSession();f&&t("/admin")}async function u(f){const{error:d}=await M.from("profiles").insert([{id:f}]).select().single();d&&d.code!=="23505"&&console.error("Error creating profile:",d)}async function h(f){if(f.preventDefault(),o(!0),l(""),e!=="vipulyadav503@gmail.com"){l("Access denied. Please use the authorized email address."),o(!1);return}try{const{data:d,error:y}=await M.auth.signInWithPassword({email:e,password:r});y?(console.error("Sign in error:",y),l("Invalid login credentials. Please try again.")):d!=null&&d.user&&(await u(d.user.id),localStorage.setItem("supabase.auth.token",JSON.stringify(d.session)),t("/admin"))}catch(d){console.error("Login error:",d),l("An error occurred during login. Please try again.")}o(!1)}return p.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),p.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Use your admin email to access the dashboard"})]}),p.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:p.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:p.jsxs("form",{className:"space-y-6",onSubmit:h,children:[a&&p.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:p.jsx("span",{className:"block sm:inline",children:a})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),p.jsx("div",{className:"mt-1",children:p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"vipulyadav503@gmail.com"})})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),p.jsx("div",{className:"mt-1",children:p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:f=>i(f.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:s?"Signing in...":"Sign in"})})]})})})]})}function Nd(){const[t,e]=F.useState(!1);return p.jsx("nav",{className:"bg-white shadow-lg",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center py-4",children:[p.jsx(yt,{to:"/",className:"text-xl font-bold text-blue-600",children:"Vipul Yadav"}),p.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-gray-700 hover:text-blue-600",children:t?p.jsx(xi,{size:24}):p.jsx(Us,{size:24})}),p.jsxs("div",{className:"hidden md:flex space-x-8",children:[p.jsx(yt,{to:"/",className:"text-gray-700 hover:text-blue-600",children:"Home"}),p.jsx("a",{href:"#about",className:"text-gray-700 hover:text-blue-600",children:"About"}),p.jsx("a",{href:"#projects",className:"text-gray-700 hover:text-blue-600",children:"Projects"}),p.jsx("a",{href:"#blog",className:"text-gray-700 hover:text-blue-600",children:"Blog"}),p.jsx(yt,{to:"/admin",className:"text-gray-700 hover:text-blue-600",children:"Admin"})]})]}),t&&p.jsxs("div",{className:"md:hidden mt-4 pb-4 space-y-4",children:[p.jsx(yt,{to:"/",className:"block text-gray-700 hover:text-blue-600 py-2",children:"Home"}),p.jsx("a",{href:"#about",className:"block text-gray-700 hover:text-blue-600 py-2",children:"About"}),p.jsx("a",{href:"#projects",className:"block text-gray-700 hover:text-blue-600 py-2",children:"Projects"}),p.jsx("a",{href:"#blog",className:"block text-gray-700 hover:text-blue-600 py-2",children:"Blog"}),p.jsx(yt,{to:"/admin",className:"block text-gray-700 hover:text-blue-600 py-2",children:"Admin"})]})]})})}function Rd(){return p.jsx("footer",{className:"bg-gray-800 text-white py-12",children:p.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"flex space-x-6 mb-6",children:[p.jsx("a",{href:"https://github.com/quantumNexus0",className:"hover:text-blue-400",target:"_blank",rel:"noopener noreferrer",children:p.jsx(Tn,{size:24})}),p.jsx("a",{href:"https://www.instagram.com/vipulyadav_02",className:"hover:text-blue-400",target:"_blank",rel:"noopener noreferrer",children:p.jsx(bi,{size:24})}),p.jsx("a",{href:"mailto:fusionfission55@gmail.com",className:"hover:text-blue-400",children:p.jsx(wi,{size:24})})]}),p.jsxs("p",{className:"text-center text-gray-400",children:[" ",new Date().getFullYear()," Vipul Yadav. All rights reserved."]})]})})})}function Ld(){return p.jsx(qs,{basename:"/portfolio",children:p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsx(Nd,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(Hs,{children:[p.jsx(fn,{path:"/",element:p.jsx(Ad,{})}),p.jsx(fn,{path:"/admin",element:p.jsx(Id,{})}),p.jsx(fn,{path:"/login",element:p.jsx(Od,{})})]})}),p.jsx(Rd,{})]})})}console.log=()=>{},console.error=()=>{},console.debug=()=>{},console.warn=()=>{};const As=document.getElementById("root");if(!As)throw new Error("Failed to find the root element");_i(As).render(p.jsx(F.StrictMode,{children:p.jsx(Ld,{})}));
